\chapter{La Base de datos}

\section{La base de datos y su interpretación} % section headings are 

Para la elaboración del trabajo,  se dispuso de la base de datos de los los n-grams de Google Books. Esta base de datos tiene hasta el momento alrededor del 4$\%$ de todas las publicaciones en diferentes idiomas,  y se caracteriza por en listar  por cada año y por cada idioma de publicación los “n-gramas” más utilizados.   Los n-gramas son las palabras o conjunto de palabras que forman el texto de un libro, donde el número n indicará la cantidad de palabras que forman el grama.  Es decir, los  1-grama son palabras individuales (una sola palabra o un signo), los 2-grama son frases compuestas por dos 1-grama, los 3-grama el conjunto de tres 1-grama y así sucesivamente.   Con la herramienta del \textit{n-gram viewer} \cite{ngramv}, los usuarios pueden acceder a una forma visual el comportamiento a lo largo del tiempo de un n-grama en los diferentes idiomas en que se publicó.  

A partir de esta base, se extrajeron los datos de los 1-grama en cinco diferentes idiomas, inglés, francés, alemán, italiano y español, correspondientes a las publicaciones de 269 años (1740-2009).  De acuerdo a \cite{iplosone},  el kernel de un idioma lo componen entre 1500 a 3000 palabras más comunes del mismo,  cantidad que basta para conocer al idioma.  Para el estudio del trabajo se tomaron por cada año y por cada idioma,  las cinco mil palabras más usadas (cantidad que abarca palabras dentro y fuera del kernel), teniendo conjuntos homogéneos en tamaño.

Cada palabra está asociada a una frecuencia, que es la cantidad de veces en que que la  palabra apareció en las publicaciones de un año y un idioma, y a su vez cada frecuencia se vincula a un rango, que es la posición en un ordenamiento.  Cada listado está ordenado de manera descendente en la frecuencia y de manera ascendente en el rango, la palabra más utilizada tendrá mayor frecuencia y le corresponde el rango uno,  la siguiente seŕa la segunda más frecuente correspondiente al rango dos,  la tercera más frecuente con rango tres y así sucesivamente para todos los elementos.  Con ello se afirma que las palabras más usadas tienen una mayor frecuencia y un rango menor. 


\section{Forma de búsqueda}

Se identifican palabras que sean iguales en escritura, carácter por carácter y que estén presentes en dos o más idiomas.  Si se define como  \textbf{Migración}, al movimiento de palabras de un idioma a otro, entonces las palabras \textbf{Palabras Migrantes}  son aquellas que están presentes en al menos dos idiomas.  Conviene en este punto realizar dos definiciones que serán útiles.

\hfill \break

Se define como  \textbf{idioma origen}, al idioma en el cual la palabra apareció por primera vez dentro de la lista de las cinco mil palabras más usadas.  

\hfill \break 

Se define como \textbf{idioma receptor}, a  aquel donde la palabra está presente, siendo un conjunto diferente al idioma origen.  

\hfill \break

Para que existan las palabras migrantes, se necesita un origen y al menos un receptor. Si una palabra está presente en más de dos idiomas, alguno es el origen y los demás son los receptores. 

Una vez que se tiene certeza de cuáles palabras son migrantes, y en cuáles idiomas está presente se procede a determinar el idioma origen y los idiomas receptores.   Si se suponen dos idiomas $\textit{A}$ y $\textit{B}$  donde la palabra se encuentra, y se sabe con seguridad el año de aparición en cada idioma y el rango que ocupó para ese año,  el criterio para determinar el origen es el siguiente: 


\begin{enumerate}
	
	\item  Si la palabra apareció en años anteriores en el idioma $\textit{A}$  (dentro de las 5 mil más usadas) que en el idioma $\textit{B}$ , se establece al idioma $\textit{A}$  como el idioma origen y $\textit{B}$  como el receptor.
	
	\item Si la palabra apareció en el mismo año en ambos idiomas, se establece el idioma origen a aquel donde la palabra tuvo un menor rango, es decir, si el rango en la lista de las más usadas en el idioma $\textit{A}$  es menor que el rango en la lista del idioma $\textit{B}$ , entonces $\textit{A}$  es el idioma origen, en caso contrario, el origen es $\textit{B}$ .
	
	\item Se descartan palabras que contengan un solo carácter, las que son compuestas por letras y números y aquellas que aparecen en el receptor sólo una vez. La intención es tener una  nueva base de datos con el mayor contenido limpio. 
	
\end{enumerate}

Los argumentos anteriores, se pueden ampliar si la palabra está presente en tres o más .

\newpage
La manera de clasificar el idioma origen de las palabras puede carecer de otras pautas para ser más preciso, sin embargo, a lo largo de toda la investigación se optó por utilizar lo más posible los datos de los n-gramas y  con ellos crear reglas para obtener resultados.  Una forma más precisa sería tomando otro tipo de base de datos, con información etimológica de las palabras y las diferentes escrituras que tomó la palabra hasta que prevaleció una estructura.  

Conocidos los idiomas origen y receptor de las palabras migrantes, se llamarán \textbf{Préstamos} a las palabras con un mismo origen y que están  presentes en un receptor.  Un receptor $\textit{B}$, puede tener palabras con diferentes orígenes $\textit{A}$, $\textit{C}$ o $\textit{D}$, también una palabra con origen $\textit{A}$ puede llegar a diferentes receptores.  Los préstamos de $\textit{A}$  en $\textit{B}$  son el conjunto de palabras con origen  $\textit{A}$  y con receptor $\textit{B}$.     


\subsubsection*{Ventajas}


\begin{itemize}
	
	\item [$-$] Determina el idioma donde la palabra fue más popular al comienzo de la base de datos (1740), y hacia donde se esparció el vocablo, dando un carácter histórico de los idiomas mas populares en diferentes épocas. 
	
	\item [$-$] Localiza las palabras que conservaron su escritura al pasar de un idioma a otro. 
	
	\item [$-$] Valora a un idioma como importante e influyente si sus vocablos son transmitidos a los demás y perduran por un periodo de tiempo. También el mismo idioma es influyente si a través de él se han esparcido palabras a los demás, a pesar de que no sea el idioma origen. 
	
\end{itemize}


\subsubsection*{Desventajas}


\begin{itemize}
	
	\item [$-$] Al encontrar palabras con igual escritura, se obtienen casos donde el significado en cada idioma es diferente.  Por ejemplo, la palabra  $\textit{MAYOR}$, que está presente en el inglés y en el español,  significa alcalde en inglés, mientras que en español es más grande que.
	
	\item [$-$] No se localizan palabras que han sufrido transformaciones en la escritura al pasar de un idioma a otro, consecuente de que la palabra se adapta a la gramática de los diferentes receptores.  Por ejemplo, las palabras $\textit{imagine}$ e $\textit{imaginar}$, son similares en los primeros caracteres, teniendo el mismo significado en el inglés y en el español, no obstante la terminación de  sus últimas letras se modificó al estar en  la lengua inglesa y la española. 
	
	\item [$-$] Define un origen distinto al verdadero.  Muchos de estos casos se presentan al no tener una base de datos con más idiomas, y el verdadero origen puede estar en estas exclusiones. Por ejemplo la palabra natural, que proviene del latín y se encuentra en inglés y español con igual escritura,  el programa la identifica proveniente del inglés, más su verdadera procedencia es el latín. 
	
\end{itemize}


Se han revisado las palabras encontradas con el algoritmo descrito, en su mayoría los resultados son aceptables. Los mayores inconvenientes resultaron al clasificar las palabras y las migraciones entre idiomas de la misma familia lingüística.  En los capítulos siguientes se proporcionara un vinculo para poder observar todas las palabras encontradas. 


Ya que  la base de datos es amplia y se busca tener palabras cuyo significado refleja la composición de los idiomas y no a la estructura escrita de los mismos. Las palabras de acuerdo a  \cite{contenidopal}, se clasifican en \textbf{\textit{palabras funcionales,}} aquellas que auxilian a las demás a estructurar un mensaje de acuerdo a la gramática del idioma, y en \textbf{\textit{palabras de contenido}} que llevan la información y significado del mensaje. Para obtener la esencia de las palabras que fluyen entre los idiomas, se han eliminado de las listas a los artículos, pronombres,
preposiciones y conjunciones, correspondientes a las palabras funcionales, quedando solo palabras de contenido. 

Al tratarse de cinco diferentes idiomas, las posibles palabras funcionales se obtuvieron de diferentes diccionarios y páginas \cite{englishdic, frenchdic, germandic, italiandic, spanishdic}.

En secciones posteriores, se realizará un estudio sobre el cómo afecta a los resultados la eliminación de palabras a partir de reglas arbitrarias.  Por el momento todo el trabajo se apoya en la eliminación de las palabras funcionales.


\section{Partición de datos}

Al ser limitada la base de datos por no haber registros (suficiente información) para los cinco idiomas (inglés, francés, alemán, italiano y español) antes de 1740,  existe un periodo de tiempo durante los primeros treinta o cincuenta años, donde se encuentran una mayor cantidad de préstamos de un idioma a otro. Este periodo desfasa a  las migraciones ya que sin importar cual sea el año del comienzo y los idiomas utilizados,  la mayor cantidad de migraciones sigue ocurriendo años después del inicio.   

Para estabilizar el flujo de palabras entre idiomas, se decidió partir la información en dos conjuntos que ayuden al análisis.

\textbf{Conjunto base.} (1740-1900) todos los movimientos encontrados en esta partición se tomarán como verdaderos,  obteniendo un \textit{“background”} de las palabras que migraron de un lado a otro.

\textbf{Conjunto de búsqueda.} (1901-2009) será donde se muestren los resultados de cada técnica elaborada y donde mayor discusión se realizará, apoyados de los resultados del conjunto base. 


